{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase"},"hierarchy":{"paths":[["doc:\/\/SKHelper\/tutorials\/quickstart","doc:\/\/SKHelper\/tutorials\/quickstart\/$volume","doc:\/\/SKHelper\/tutorials\/quickstart\/Check-a-purchase"]],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart","modules":[{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Getting-started","projects":[{"sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started#Adding-the-SKHelper-package","kind":"task"}],"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started"}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Configure-products","projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-Productsplist","kind":"task"},{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-product-images","kind":"task"}]}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-products","projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products#Display-all-products","kind":"task"}]}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-subscriptions","projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions#Display-subscriptions","kind":"task"}]}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-purchases","projects":[{"sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-purchases#Display-all-purchases","kind":"task"}],"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-purchases"}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Check-a-purchase","projects":[{"sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase#Check-a-purchase","kind":"task"}],"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase"}]},{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Purchase-and-subscription-management","projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Check-a-purchase","kind":"task"}]}]}]},"kind":"project","schemaVersion":{"minor":3,"major":0,"patch":0},"sections":[{"estimatedTimeInMinutes":5,"kind":"hero","title":"Check a purchase","content":[{"type":"paragraph","inlineContent":[{"text":"Add code to check if the user has purchased a specific product.","type":"text"}]}],"xcodeRequirement":"Xcode 16","chapter":"Check a purchase"},{"tasks":[{"anchor":"Check-a-purchase","contentSection":[{"mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"In this section add code to check if the user has purchased a specific product. We also review how to grant or deny access to a"},{"type":"text","text":" "},{"type":"text","text":"purchase-dependent resource."}],"type":"paragraph"}],"media":"quickstart29.png","kind":"contentAndMedia"}],"title":"Check a purchase","stepsSection":[{"type":"step","content":[{"inlineContent":[{"text":"Add the following code at the end of ","type":"text"},{"inlineContent":[{"type":"text","text":"ContentView.swift"}],"type":"strong"},{"text":" to enable our demo to display a new purchase-dependent","type":"text"},{"text":" ","type":"text"},{"text":"View that we’ll create in the next step.","type":"text"}],"type":"paragraph"}],"caption":[],"media":null,"code":"quickstart-contentview6.swift","runtimePreview":null},{"type":"step","content":[{"inlineContent":[{"type":"text","text":"Create a new SwiftUI and name it "},{"type":"strong","inlineContent":[{"type":"text","text":"SmallFlowersView"}]},{"type":"text","text":". Replace the contents of the file with the following code."}],"type":"paragraph"}],"caption":[],"media":null,"code":"quickstart-flowers1.swift","runtimePreview":null},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Notice how check the purchase status of the small flowers product in a "},{"type":"codeVoice","code":".task { ... }"},{"type":"text","text":" before the view is displayed."},{"type":"text","text":" "},{"type":"text","text":"We then use the purchase status to grant or deny the user access to the purchase-related resource."}]}],"caption":[],"media":null,"code":"quickstart-flowers2.swift","runtimePreview":null},{"type":"step","content":[{"inlineContent":[{"type":"text","text":"Build and run the app. For the purposes of this demo we’ll assume you haven’t yet purchased the small flowers product."},{"type":"text","text":" "},{"type":"text","text":"Navigate to the "},{"inlineContent":[{"text":"SmallFlowersView","type":"text"}],"type":"strong"},{"type":"text","text":" via the "},{"inlineContent":[{"text":"Access Small Flowers","type":"text"}],"type":"strong"},{"type":"text","text":" link."}],"type":"paragraph"}],"caption":[],"media":null,"code":null,"runtimePreview":null},{"type":"step","content":[{"inlineContent":[{"text":"You should see that you’ve not been granted access to the product.","type":"text"}],"type":"paragraph"}],"caption":[],"media":"quickstart29.png","code":null,"runtimePreview":null},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tap the "},{"type":"strong","inlineContent":[{"text":"Review Small Flowers Info","type":"text"}]},{"text":" button. You should now see the ","type":"text"},{"inlineContent":[{"type":"text","text":"SKHelperStoreView"}],"type":"strong"},{"text":" displaying information about the","type":"text"},{"text":" ","type":"text"},{"text":"small flowers product.","type":"text"}]}],"caption":[{"inlineContent":[{"text":"Note that by default ","type":"text"},{"inlineContent":[{"type":"text","text":"SKHelperStoreView"}],"type":"strong"},{"text":" will display a list of all available products. However, in this case we pass the","type":"text"},{"text":" ","type":"text"},{"code":"ProductId","type":"codeVoice"},{"text":" of the small flowers product which overrides the default behavior.","type":"text"}],"type":"paragraph"}],"media":"quickstart30.png","code":null,"runtimePreview":null},{"content":[{"inlineContent":[{"type":"text","text":"Purchase the small flowers product via the price button displayed on "},{"type":"strong","inlineContent":[{"text":"SKHelperStoreView","type":"text"}]},{"type":"text","text":". Tap the "},{"type":"strong","inlineContent":[{"type":"text","text":"Back"}]},{"type":"text","text":" button"},{"type":"text","text":" "},{"type":"text","text":"to navigate back to the "},{"type":"strong","inlineContent":[{"type":"text","text":"SmallFlowersView"}]},{"type":"text","text":". You should now see that you have been granted access."}],"type":"paragraph"}],"type":"step","runtimePreview":null,"media":"quickstart31.png","code":null,"caption":[]},{"type":"paragraph","inlineContent":[{"text":"This concludes the ","type":"text"},{"inlineContent":[{"type":"text","text":"Quick Start"}],"type":"strong"},{"text":" tutorial, but we’ve only scratched the surface of what you can do with ","type":"text"},{"inlineContent":[{"text":"StoreKit","type":"text"}],"type":"strong"},{"text":" and ","type":"text"},{"inlineContent":[{"type":"text","text":"SKHelper"}],"type":"strong"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"Explore more resources for learning about ","type":"text"},{"code":"SKHelper","type":"codeVoice"},{"text":".","type":"text"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper","isActive":true,"type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide","type":"reference"}]}]},{"content":[{"inlineContent":[{"isActive":true,"identifier":"https:\/\/github.com\/russell-archer\/SKHelperDemo","type":"reference"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"kind":"tasks"},{"title":"Check a purchase","action":{"overridingTitleInlineContent":[{"type":"text","text":"Get started"}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management","isActive":true,"type":"reference","overridingTitle":"Get started"},"featuredEyebrow":"Tutorial","kind":"callToAction","abstract":[{"text":"Add code to check if the user has purchased a specific product.","type":"text"}]}],"metadata":{"title":"Check a purchase","category":"SKHelper Quick Start","role":"project","categoryPathComponent":"quickstart"},"variants":[{"paths":["\/tutorials\/skhelper\/check-purchase"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://SKHelper/tutorials/SKHelper/configure-products#Configuring-product-images":{"role":"pseudoSymbol","type":"section","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-product-images","abstract":[{"type":"text","text":"See how to configure in-app purchase products and Xcode purchase testing."}],"kind":"section","title":"Configuring product images","url":"\/tutorials\/skhelper\/configure-products#Configuring-product-images"},"doc://SKHelper/tutorials/quickstart/Check-a-purchase":{"title":"Check a purchase","url":"\/tutorials\/quickstart\/check-a-purchase","type":"topic","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Check-a-purchase","role":"article","abstract":[],"kind":"article"},"https://russell-archer.github.io/SKHelper/documentation/skhelper/guide":{"title":"In-depth guide to in-app purchases and SKHelper","identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide","type":"link","titleInlineContent":[{"type":"text","text":"In-depth guide to in-app purchases and "},{"type":"strong","inlineContent":[{"text":"SKHelper","type":"text"}]}],"url":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide"},"doc://SKHelper/tutorials/SKHelper/getting-started#Adding-the-SKHelper-package":{"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started#Adding-the-SKHelper-package","type":"section","url":"\/tutorials\/skhelper\/getting-started#Adding-the-SKHelper-package","abstract":[{"text":"How to get started with ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"SKHelper"}]},{"text":" by creating a simple demo app using SwiftUI.","type":"text"}],"role":"pseudoSymbol","title":"Adding the SKHelper package","kind":"section"},"quickstart-flowers2.swift":{"identifier":"quickstart-flowers2.swift","fileType":"swift","content":["import SwiftUI","import SKHelper","","struct SmallFlowersView: View {","    @Environment(SKHelper.self) private var store","    @State private var isPurchased = false","    private let smallFlowersProductId = \"com.rarcher.nonconsumable.flowers.small\"","    ","    var body: some View {","        VStack {","            if isPurchased { FullAccess() }","            else { NoAccess() }","        }","        .task { isPurchased = await store.isPurchased(productId: smallFlowersProductId) }","    }","    ","    :","    :","}"],"syntax":"swift","type":"file","highlights":[],"fileName":"SmallFlowersView.swift"},"quickstart-flowers1.swift":{"identifier":"quickstart-flowers1.swift","fileType":"swift","content":["import SwiftUI","import SKHelper","","struct SmallFlowersView: View {","    @Environment(SKHelper.self) private var store","    @State private var isPurchased = false","    private let smallFlowersProductId = \"com.rarcher.nonconsumable.flowers.small\"","    ","    var body: some View {","        VStack {","            if isPurchased { FullAccess() }","            else { NoAccess() }","        }","        .task { isPurchased = await store.isPurchased(productId: smallFlowersProductId) }","    }","    ","    func FullAccess() -> some View {","        VStack {","            Text(\"🥰 🌹\").font(.system(size: 100)).padding()","            Text(\"You've purchased the small flowers - here they are, enjoy!\").padding()","            Image(smallFlowersProductId).resizable().scaledToFit()","        }","        .padding()","    }","    ","    func NoAccess() -> some View {","        VStack {","            Text(\"😢\").font(.system(size: 100)).padding()","            Text(\"You haven't purchased the small flowers and don't have access.\").padding()","            ProductNavLink()","            Spacer()","        }","        .padding()","    }","    ","    func ProductNavLink() -> some View {","        NavigationLink(\"Review Small Flowers Info\") {","            SKHelperStoreView(productIds: [smallFlowersProductId]) { productId in","                Group {","                    Image(productId + \".info\").resizable().scaledToFit()","                    Text(\"Here is some text about why you might want to buy this product.\")","                }","                .padding()","            }","        }","    }","}"],"syntax":"swift","type":"file","highlights":[],"fileName":"SmallFlowersView.swift"},"quickstart30.png":{"alt":"Check a purchase.","identifier":"quickstart30.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/SKHelper\/quickstart30.png"}]},"doc://SKHelper/tutorials/SKHelper/purchase-management#Check-a-purchase":{"title":"Check a purchase","kind":"section","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Check-a-purchase","url":"\/tutorials\/skhelper\/purchase-management#Check-a-purchase","abstract":[{"type":"text","text":"Add code to check if the user has purchased a specific product."}],"type":"section","role":"pseudoSymbol"},"quickstart31.png":{"alt":"Check a purchase.","identifier":"quickstart31.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/SKHelper\/quickstart31.png"}]},"doc://SKHelper/tutorials/SKHelper/check-purchase":{"abstract":[{"type":"text","text":"Add code to check if the user has purchased a specific product."}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase","role":"project","kind":"project","title":"Check a purchase","url":"\/tutorials\/skhelper\/check-purchase","type":"topic","estimatedTime":"5min"},"doc://SKHelper/tutorials/SKHelper/display-products#Display-all-products":{"role":"pseudoSymbol","title":"Display all products","url":"\/tutorials\/skhelper\/display-products#Display-all-products","abstract":[{"type":"text","text":"Add code to display all products and support user purchases."}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products#Display-all-products","type":"section","kind":"section"},"https://russell-archer.github.io/SKHelper/documentation/skhelper":{"title":"Documentation landing page","identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper","type":"link","titleInlineContent":[{"type":"text","text":"Documentation landing page"}],"url":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper"},"doc://SKHelper/tutorials/SKHelper/display-products":{"title":"Display all products","url":"\/tutorials\/skhelper\/display-products","abstract":[{"type":"text","text":"Add code to display all products and support user purchases."}],"kind":"project","role":"project","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products","type":"topic","estimatedTime":"5min"},"doc://SKHelper/tutorials/quickstart":{"role":"overview","abstract":[{"text":"This ","type":"text"},{"inlineContent":[{"type":"text","text":"Quick Start"}],"type":"strong"},{"text":" tutorial provides a step-by-step review of how to use the ","type":"text"},{"inlineContent":[{"text":"SKHelper","type":"text"}],"type":"strong"},{"text":" package to create a simple SwiftUI app that supports in-app purchases.","type":"text"}],"kind":"overview","type":"topic","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart","url":"\/tutorials\/quickstart","title":"SKHelper Quick Start"},"doc://SKHelper/tutorials/SKHelper/purchase-management":{"title":"Check a purchase","url":"\/tutorials\/skhelper\/purchase-management","abstract":[{"text":"Add code to check if the user has purchased a specific product.","type":"text"}],"kind":"project","role":"project","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management","type":"topic","estimatedTime":"5min"},"doc://SKHelper/tutorials/SKHelper/check-purchase#Check-a-purchase":{"abstract":[{"type":"text","text":"Add code to check if the user has purchased a specific product."}],"kind":"section","url":"\/tutorials\/skhelper\/check-purchase#Check-a-purchase","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase#Check-a-purchase","title":"Check a purchase"},"doc://SKHelper/tutorials/SKHelper/configure-products#Configuring-Productsplist":{"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-Productsplist","title":"Configuring Products.plist","role":"pseudoSymbol","abstract":[{"text":"See how to configure in-app purchase products and Xcode purchase testing.","type":"text"}],"kind":"section","url":"\/tutorials\/skhelper\/configure-products#Configuring-Productsplist","type":"section"},"doc://SKHelper/tutorials/quickstart/Purchase-and-subscription-management":{"url":"\/tutorials\/quickstart\/purchase-and-subscription-management","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Purchase-and-subscription-management","type":"topic","kind":"article","abstract":[],"role":"article","title":"Purchase and subscription management"},"doc://SKHelper/tutorials/SKHelper/configure-products":{"kind":"project","abstract":[{"text":"See how to configure in-app purchase products and Xcode purchase testing.","type":"text"}],"role":"project","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products","estimatedTime":"5min","type":"topic","url":"\/tutorials\/skhelper\/configure-products","title":"Configure products"},"doc://SKHelper/tutorials/SKHelper/getting-started":{"role":"project","type":"topic","kind":"project","estimatedTime":"5min","abstract":[{"type":"text","text":"How to get started with "},{"type":"strong","inlineContent":[{"text":"SKHelper","type":"text"}]},{"type":"text","text":" by creating a simple demo app using SwiftUI."}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started","url":"\/tutorials\/skhelper\/getting-started","title":"Getting Started"},"doc://SKHelper/tutorials/SKHelper/display-purchases":{"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-purchases","abstract":[{"type":"text","text":"Add code to display all purchases and allow the user to manage those purchases."}],"type":"topic","estimatedTime":"5min","kind":"project","role":"project","url":"\/tutorials\/skhelper\/display-purchases","title":"Display all purchases"},"quickstart-contentview6.swift":{"identifier":"quickstart-contentview6.swift","fileType":"swift","content":["import SwiftUI","import SKHelper","","struct ContentView: View {","    @Environment(SKHelper.self) private var store","    ","    var body: some View {","        NavigationStack {","            List {","                :","                :","                ","                \/\/ Show the small flowers purchase-related view","                NavigationLink(\"Access Small Flowers\") {","                    SmallFlowersView()","                }","            }","        }","    }","}"],"syntax":"swift","type":"file","highlights":[{"line":13},{"line":14},{"line":15}],"fileName":"ContentView.swift"},"doc://SKHelper/tutorials/quickstart/Configure-products":{"title":"Configure products","url":"\/tutorials\/quickstart\/configure-products","kind":"article","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Configure-products","abstract":[],"role":"article","type":"topic"},"doc://SKHelper/tutorials/quickstart/Display-all-products":{"url":"\/tutorials\/quickstart\/display-all-products","abstract":[],"title":"Display all products","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-products","kind":"article","type":"topic","role":"article"},"doc://SKHelper/tutorials/SKHelper/display-subscriptions#Display-subscriptions":{"type":"section","role":"pseudoSymbol","title":"Display subscriptions","abstract":[{"text":"Add code to support the display, promotion and purchase of subscriptions.","type":"text"}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions#Display-subscriptions","url":"\/tutorials\/skhelper\/display-subscriptions#Display-subscriptions","kind":"section"},"doc://SKHelper/tutorials/quickstart/Getting-started":{"identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Getting-started","abstract":[],"role":"article","url":"\/tutorials\/quickstart\/getting-started","title":"Getting started","type":"topic","kind":"article"},"https://github.com/russell-archer/SKHelperDemo":{"title":"SKHelperDemo Xcode project","identifier":"https:\/\/github.com\/russell-archer\/SKHelperDemo","type":"link","titleInlineContent":[{"type":"text","text":"SKHelperDemo Xcode project"}],"url":"https:\/\/github.com\/russell-archer\/SKHelperDemo"},"quickstart29.png":{"alt":"Check a purchase.","identifier":"quickstart29.png","type":"image","variants":[{"traits":["1x","light"],"url":"\/images\/SKHelper\/quickstart29.png"}]},"Xcode 16":{"title":"Xcode 16","identifier":"Xcode 16","type":"xcodeRequirement","url":"https:\/\/developer.apple.com\/download\/applications\/"},"doc://SKHelper/tutorials/quickstart/Display-all-purchases":{"identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-purchases","abstract":[],"type":"topic","url":"\/tutorials\/quickstart\/display-all-purchases","kind":"article","role":"article","title":"Display all purchases"},"doc://SKHelper/tutorials/SKHelper/display-subscriptions":{"kind":"project","title":"Display subscriptions","estimatedTime":"5min","url":"\/tutorials\/skhelper\/display-subscriptions","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions","abstract":[{"type":"text","text":"Add code to support the display, promotion and purchase of subscriptions."}],"role":"project","type":"topic"},"doc://SKHelper/tutorials/SKHelper/display-purchases#Display-all-purchases":{"kind":"section","type":"section","title":"Display all purchases","abstract":[{"type":"text","text":"Add code to display all purchases and allow the user to manage those purchases."}],"url":"\/tutorials\/skhelper\/display-purchases#Display-all-purchases","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-purchases#Display-all-purchases","role":"pseudoSymbol"},"doc://SKHelper/tutorials/quickstart/Display-subscriptions":{"title":"Display subscriptions","url":"\/tutorials\/quickstart\/display-subscriptions","abstract":[],"kind":"article","role":"article","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-subscriptions","type":"topic"}}}