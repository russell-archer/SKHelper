{"sections":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how to manage purchases and subscriptions."}]}],"kind":"hero","xcodeRequirement":"Xcode 16","estimatedTimeInMinutes":5,"title":"Purchase and subscription management","chapter":"Purchase and subscription management"},{"tasks":[{"anchor":"Manage-Purchases","stepsSection":[{"type":"step","caption":[{"inlineContent":[{"text":"Replace the content of ","type":"text"},{"inlineContent":[{"type":"text","text":"ContentView.swift"}],"type":"strong"},{"text":" to enable our demo to display products, along with management options for non-consumable","type":"text"},{"text":" ","type":"text"},{"text":"products that have been purchased.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"media":null,"content":[{"inlineContent":[{"text":"Allowing the user to manage purchases and subscriptions is easily accomplished using the same ","type":"text"},{"code":"SKHelperStoreView()","type":"codeVoice"},{"text":" ","type":"text"},{"text":"method we used in the ‘Display all Products’ part of this quick-start guide: simply pass the ","type":"text"},{"code":"allowManagement: true","type":"codeVoice"},{"text":" parameter.","type":"text"}],"type":"paragraph"}],"code":"quickstart-contentview7.swift"},{"type":"step","caption":[],"runtimePreview":null,"media":"quickstart24.png","content":[{"inlineContent":[{"text":"Build and run the demo app and you’ll see that products that have been purchased display a ","type":"text"},{"inlineContent":[{"text":"Manage Purchase","type":"text"}],"type":"strong"},{"text":" button. Unpurchased","type":"text"},{"text":" ","type":"text"},{"text":"products display ","type":"text"},{"inlineContent":[{"text":"Product Information","type":"text"}],"type":"strong"},{"text":" and ","type":"text"},{"inlineContent":[{"text":"price","type":"text"}],"type":"strong"},{"text":" buttons.","type":"text"}],"type":"paragraph"}],"code":null},{"type":"step","caption":[],"runtimePreview":null,"media":"quickstart25.png","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tapping the "},{"type":"strong","inlineContent":[{"type":"text","text":"Manage Purchase"}]},{"type":"text","text":" button displays information about the purchase, such as the purchase date and price paid."}]}],"code":null},{"type":"step","caption":[],"runtimePreview":null,"media":"quickstart26.png","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Tapping the "},{"type":"strong","inlineContent":[{"text":"Manage Purchase","type":"text"}]},{"type":"text","text":" button again allows the user to request a refund."}]}],"code":null}],"contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"text":"In this section we see how to allow the user to manage purchases for consumables and non-consumable products.","type":"text"}],"type":"paragraph"}],"media":"quickstart24.png"}],"title":"Manage Purchases"},{"anchor":"Manage-Subscriptions","stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Replace the contents of ","type":"text"},{"inlineContent":[{"text":"ContentView.swift","type":"text"}],"type":"strong"},{"text":" with the following code.","type":"text"}]}],"caption":[],"media":null,"type":"step","runtimePreview":null,"code":"quickstart-contentview5.swift"},{"content":[{"inlineContent":[{"type":"text","text":"Build and run the app. Notice that by default SKHelper shows an "},{"type":"strong","inlineContent":[{"text":"Info","type":"text"}]},{"type":"text","text":" button that the user can tap on for product information."}],"type":"paragraph"}],"caption":[],"media":"quickstart19.png","type":"step","runtimePreview":null,"code":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Subscribe to the "},{"type":"strong","inlineContent":[{"text":"Silver","type":"text"}]},{"type":"text","text":" product. Then tap the "},{"type":"strong","inlineContent":[{"type":"text","text":"Manage Subscriptions"}]},{"type":"text","text":" button at the top of the page."},{"type":"text","text":" "},{"type":"text","text":"You’ll see a sheet appear showing details for the subscription."}]}],"caption":[],"media":"quickstart32.png","type":"step","runtimePreview":null,"code":null},{"content":[{"inlineContent":[{"text":"The subscription information includes details of the most recent transaction and a transaction history of all payments related to","type":"text"},{"text":" ","type":"text"},{"text":"the selected subscription.","type":"text"}],"type":"paragraph"}],"caption":[],"media":"quickstart33.png","type":"step","runtimePreview":null,"code":null},{"content":[{"inlineContent":[{"text":"Tapping the ","type":"text"},{"inlineContent":[{"type":"text","text":"Manage Subscription"}],"type":"strong"},{"text":" button at the top of the subscription information sheet enables the user to cancel the subscription.","type":"text"}],"type":"paragraph"}],"caption":[],"media":"quickstart34.png","type":"step","runtimePreview":null,"code":null},{"type":"paragraph","inlineContent":[{"text":"This concludes the ","type":"text"},{"inlineContent":[{"text":"Quick Start","type":"text"}],"type":"strong"},{"text":" tutorial, but we’ve only scratched the surface of what you can do with ","type":"text"},{"inlineContent":[{"text":"StoreKit","type":"text"}],"type":"strong"},{"text":" and ","type":"text"},{"inlineContent":[{"type":"text","text":"SKHelper"}],"type":"strong"},{"text":". Explore more resources for learning about ","type":"text"},{"code":"SKHelper","type":"codeVoice"},{"text":".","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper","type":"reference","isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide","isActive":true,"type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"https:\/\/github.com\/russell-archer\/SKHelperDemo","isActive":true}]}]}]}],"contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"text":"In this section we see how to allow the user to manage subscriptions.","type":"text"}]}],"media":"quickstart17.png","mediaPosition":"trailing"}],"title":"Manage Subscriptions"}],"kind":"tasks"}],"variants":[{"paths":["\/tutorials\/skhelper\/purchase-management"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"project","hierarchy":{"reference":"doc:\/\/SKHelper\/tutorials\/quickstart","paths":[["doc:\/\/SKHelper\/tutorials\/quickstart","doc:\/\/SKHelper\/tutorials\/quickstart\/$volume","doc:\/\/SKHelper\/tutorials\/quickstart\/Purchase-and-subscription-management"]],"modules":[{"projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started","sections":[{"kind":"task","reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started#Adding-the-SKHelper-package"}]}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Getting-started"},{"projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-Productsplist","kind":"task"},{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-product-images","kind":"task"}]}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Configure-products"},{"projects":[{"sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products#Display-all-products","kind":"task"}],"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products"}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-products"},{"projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions#Display-subscriptions","kind":"task"}]}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-subscriptions"},{"projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase#Check-a-purchase","kind":"task"}]}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Check-a-purchase"},{"projects":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management","sections":[{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Manage-Purchases","kind":"task"},{"reference":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Manage-Subscriptions","kind":"task"}]}],"reference":"doc:\/\/SKHelper\/tutorials\/quickstart\/Purchase-and-subscription-management"}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management"},"metadata":{"title":"Purchase and subscription management","role":"project","categoryPathComponent":"quickstart","category":"SKHelper Quick Start"},"schemaVersion":{"patch":0,"major":0,"minor":3},"references":{"doc://SKHelper/tutorials/SKHelper/purchase-management#Manage-Subscriptions":{"url":"\/tutorials\/skhelper\/purchase-management#Manage-Subscriptions","role":"pseudoSymbol","type":"section","title":"Manage Subscriptions","abstract":[{"text":"Learn how to manage purchases and subscriptions.","type":"text"}],"kind":"section","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Manage-Subscriptions"},"quickstart32.png":{"type":"image","alt":"Manage Subscriptions.","identifier":"quickstart32.png","variants":[{"url":"\/images\/SKHelper\/quickstart32.png","traits":["1x","light"]}]},"doc://SKHelper/tutorials/SKHelper/getting-started#Adding-the-SKHelper-package":{"url":"\/tutorials\/skhelper\/getting-started#Adding-the-SKHelper-package","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started#Adding-the-SKHelper-package","title":"Adding the SKHelper package","abstract":[{"type":"text","text":"How to get started with "},{"type":"strong","inlineContent":[{"text":"SKHelper","type":"text"}]},{"type":"text","text":" by creating a simple demo app using SwiftUI."}],"kind":"section","role":"pseudoSymbol","type":"section"},"quickstart26.png":{"alt":"Manage purchases.","variants":[{"url":"\/images\/SKHelper\/quickstart26.png","traits":["1x","light"]}],"identifier":"quickstart26.png","type":"image"},"doc://SKHelper/tutorials/SKHelper/configure-products#Configuring-Productsplist":{"role":"pseudoSymbol","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-Productsplist","title":"Configuring Products.plist","url":"\/tutorials\/skhelper\/configure-products#Configuring-Productsplist","abstract":[{"text":"See how to configure in-app purchase products and Xcode purchase testing.","type":"text"}],"kind":"section","type":"section"},"doc://SKHelper/tutorials/SKHelper/display-subscriptions#Display-subscriptions":{"url":"\/tutorials\/skhelper\/display-subscriptions#Display-subscriptions","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions#Display-subscriptions","kind":"section","abstract":[{"text":"Add code to support the display, promotion and purchase of subscriptions.","type":"text"}],"type":"section","title":"Display subscriptions","role":"pseudoSymbol"},"doc://SKHelper/tutorials/SKHelper/check-purchase":{"role":"project","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase","title":"Check a purchase","url":"\/tutorials\/skhelper\/check-purchase","abstract":[{"type":"text","text":"Check if the user has purchased a specific product."}],"estimatedTime":"5min","kind":"project","type":"topic"},"quickstart-contentview5.swift":{"content":["import SwiftUI","import SKHelper","","struct ContentView: View {","    @Environment(SKHelper.self) private var store","    ","    var body: some View {","        VStack {","            SKHelperSubscriptionStoreView(","                subscriptionGroupName: \"vip\",","                subscriptionHeader: { header() },","                subscriptionDetails: { productId in details(productId: productId) })","        }","    }","    ","    func header() -> some View {","        VStack {","            Image(\"plant-services\").resizable().scaledToFit()","            Text(\"Our top-rated services will make your plants happy\").font(.headline)","        }","    }","    ","    func details(productId: ProductId) -> some View {","        VStack {","            Image(\"\\(productId).info\").resizable().scaledToFit()","            Text(\"Here is some text about why you might want to buy this product.\")","        }","        .padding()","    }","}"],"identifier":"quickstart-contentview5.swift","fileType":"swift","type":"file","highlights":[],"fileName":"ContentView.swift","syntax":"swift"},"doc://SKHelper/tutorials/quickstart/Purchase-and-subscription-management":{"title":"Purchase and subscription management","url":"\/tutorials\/quickstart\/purchase-and-subscription-management","kind":"article","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Purchase-and-subscription-management","abstract":[],"role":"article","type":"topic"},"doc://SKHelper/tutorials/SKHelper/configure-products#Configuring-product-images":{"url":"\/tutorials\/skhelper\/configure-products#Configuring-product-images","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products#Configuring-product-images","title":"Configuring product images","abstract":[{"text":"See how to configure in-app purchase products and Xcode purchase testing.","type":"text"}],"kind":"section","role":"pseudoSymbol","type":"section"},"doc://SKHelper/tutorials/SKHelper/purchase-management#Manage-Purchases":{"title":"Manage Purchases","abstract":[{"type":"text","text":"Learn how to manage purchases and subscriptions."}],"kind":"section","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management#Manage-Purchases","type":"section","role":"pseudoSymbol","url":"\/tutorials\/skhelper\/purchase-management#Manage-Purchases"},"doc://SKHelper/tutorials/SKHelper/display-subscriptions":{"title":"Display subscriptions","type":"topic","kind":"project","estimatedTime":"5min","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-subscriptions","abstract":[{"type":"text","text":"Add code to support the display, promotion and purchase of subscriptions."}],"url":"\/tutorials\/skhelper\/display-subscriptions","role":"project"},"quickstart17.png":{"alt":"Manage Subscriptions.","variants":[{"url":"\/images\/SKHelper\/quickstart17.png","traits":["1x","light"]}],"identifier":"quickstart17.png","type":"image"},"doc://SKHelper/tutorials/quickstart/Getting-started":{"kind":"article","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Getting-started","url":"\/tutorials\/quickstart\/getting-started","abstract":[],"title":"Getting started","role":"article","type":"topic"},"quickstart19.png":{"type":"image","alt":"Manage Subscriptions.","identifier":"quickstart19.png","variants":[{"url":"\/images\/SKHelper\/quickstart19.png","traits":["1x","light"]}]},"doc://SKHelper/tutorials/quickstart/Display-subscriptions":{"title":"Display subscriptions","url":"\/tutorials\/quickstart\/display-subscriptions","kind":"article","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-subscriptions","type":"topic","abstract":[],"role":"article"},"quickstart34.png":{"alt":"Manage Subscriptions.","variants":[{"url":"\/images\/SKHelper\/quickstart34.png","traits":["1x","light"]}],"identifier":"quickstart34.png","type":"image"},"https://russell-archer.github.io/SKHelper/documentation/skhelper/guide":{"url":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide","type":"link","title":"In-depth guide to in-app purchases and SKHelper","identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper\/guide","titleInlineContent":[{"text":"In-depth guide to in-app purchases and ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"SKHelper"}]}]},"doc://SKHelper/tutorials/SKHelper/display-products":{"role":"project","title":"Display all products","kind":"project","url":"\/tutorials\/skhelper\/display-products","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products","type":"topic","abstract":[{"text":"Add code to display all products and support user purchases.","type":"text"}],"estimatedTime":"5min"},"doc://SKHelper/tutorials/SKHelper/getting-started":{"estimatedTime":"5min","role":"project","abstract":[{"text":"How to get started with ","type":"text"},{"inlineContent":[{"text":"SKHelper","type":"text"}],"type":"strong"},{"text":" by creating a simple demo app using SwiftUI.","type":"text"}],"title":"Getting Started","kind":"project","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/getting-started","url":"\/tutorials\/skhelper\/getting-started","type":"topic"},"quickstart-contentview7.swift":{"content":["import SwiftUI","import SKHelper","","struct ContentView: View {","    @Environment(SKHelper.self) private var store","    @State private var hasProducts = false","    @State private var nonConsumables: [ProductId]? = nil","    ","    var body: some View {","        VStack {","            if hasProducts {","                SKHelperStoreView(allowManagement: true, productIds: nonConsumables) { productId in","                    VStack {","                        Image(\"\\(productId).info\").resizable().scaledToFit()","                        Text(\"Here is some text about why you might want to buy this product.\")","                    }","                    .padding()","                }","            } else {","                Text(\"Waiting for product info...\")","            }","        }","        .onProductsAvailable { _ in","            nonConsumables = store.allNonConsumableProductIds","            hasProducts = true","        }","    }","}"],"identifier":"quickstart-contentview7.swift","fileType":"swift","type":"file","highlights":[],"fileName":"ContentView.swift","syntax":"swift"},"doc://SKHelper/tutorials/SKHelper/display-products#Display-all-products":{"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/display-products#Display-all-products","url":"\/tutorials\/skhelper\/display-products#Display-all-products","type":"section","abstract":[{"text":"Add code to display all products and support user purchases.","type":"text"}],"role":"pseudoSymbol","title":"Display all products","kind":"section"},"doc://SKHelper/tutorials/SKHelper/check-purchase#Check-a-purchase":{"role":"pseudoSymbol","abstract":[{"text":"Check if the user has purchased a specific product.","type":"text"}],"identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/check-purchase#Check-a-purchase","url":"\/tutorials\/skhelper\/check-purchase#Check-a-purchase","title":"Check a purchase","type":"section","kind":"section"},"quickstart33.png":{"type":"image","alt":"Manage Subscriptions.","identifier":"quickstart33.png","variants":[{"url":"\/images\/SKHelper\/quickstart33.png","traits":["1x","light"]}]},"quickstart24.png":{"alt":"Manage purchases.","variants":[{"url":"\/images\/SKHelper\/quickstart24.png","traits":["1x","light"]}],"identifier":"quickstart24.png","type":"image"},"doc://SKHelper/tutorials/SKHelper/purchase-management":{"url":"\/tutorials\/skhelper\/purchase-management","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/purchase-management","kind":"project","abstract":[{"type":"text","text":"Learn how to manage purchases and subscriptions."}],"type":"topic","estimatedTime":"5min","title":"Purchase and subscription management","role":"project"},"doc://SKHelper/tutorials/SKHelper/configure-products":{"kind":"project","type":"topic","estimatedTime":"5min","url":"\/tutorials\/skhelper\/configure-products","identifier":"doc:\/\/SKHelper\/tutorials\/SKHelper\/configure-products","abstract":[{"type":"text","text":"See how to configure in-app purchase products and Xcode purchase testing."}],"title":"Configure products","role":"project"},"doc://SKHelper/tutorials/quickstart/Check-a-purchase":{"title":"Check a purchase","kind":"article","url":"\/tutorials\/quickstart\/check-a-purchase","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Check-a-purchase","abstract":[],"type":"topic","role":"article"},"doc://SKHelper/tutorials/quickstart/Configure-products":{"identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Configure-products","type":"topic","role":"article","kind":"article","title":"Configure products","abstract":[],"url":"\/tutorials\/quickstart\/configure-products"},"doc://SKHelper/tutorials/quickstart":{"url":"\/tutorials\/quickstart","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart","kind":"overview","abstract":[{"text":"This ","type":"text"},{"inlineContent":[{"text":"Quick Start","type":"text"}],"type":"strong"},{"text":" tutorial provides a step-by-step review of how to use the ","type":"text"},{"inlineContent":[{"text":"SKHelper","type":"text"}],"type":"strong"},{"text":" package to create a simple SwiftUI app that supports in-app purchases.","type":"text"}],"type":"topic","title":"SKHelper Quick Start","role":"overview"},"Xcode 16":{"url":"https:\/\/developer.apple.com\/download\/applications\/","type":"xcodeRequirement","title":"Xcode 16","identifier":"Xcode 16"},"doc://SKHelper/tutorials/quickstart/Display-all-products":{"title":"Display all products","kind":"article","url":"\/tutorials\/quickstart\/display-all-products","identifier":"doc:\/\/SKHelper\/tutorials\/quickstart\/Display-all-products","abstract":[],"type":"topic","role":"article"},"https://github.com/russell-archer/SKHelperDemo":{"titleInlineContent":[{"text":"SKHelperDemo Xcode project","type":"text"}],"identifier":"https:\/\/github.com\/russell-archer\/SKHelperDemo","title":"SKHelperDemo Xcode project","type":"link","url":"https:\/\/github.com\/russell-archer\/SKHelperDemo"},"quickstart25.png":{"type":"image","alt":"Manage purchases.","identifier":"quickstart25.png","variants":[{"url":"\/images\/SKHelper\/quickstart25.png","traits":["1x","light"]}]},"https://russell-archer.github.io/SKHelper/documentation/skhelper":{"titleInlineContent":[{"text":"Documentation landing page","type":"text"}],"identifier":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper","title":"Documentation landing page","type":"link","url":"https:\/\/russell-archer.github.io\/SKHelper\/documentation\/skhelper"}}}